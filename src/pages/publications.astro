---
import Layout from "../layouts/Layout.astro";
import Footer from "../components/Footer.astro";
import { publications } from "../data/publications";

const categories = ['All', 'People', 'Teams', 'Quotes', 'Uncategorized'];
---

<Layout title="Publications - ROM Business Psychology">

<!-- HERO -->
<!-- HERO -->
<section class="relative min-h-[60vh] overflow-hidden">
  <img 
    src="https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=1920&h=1080&fit=crop&q=80" 
    alt="Publications"
    class="absolute inset-0 w-full h-full object-cover"
  />
  <div class="absolute inset-0 bg-black/70"></div>
  
  <div class="absolute inset-0 z-10 flex items-center">
    <div class="container mx-auto px-6 max-w-4xl">
      <p class="text-white text-2xl font-light leading-relaxed">
        "There is nothing more practical than a good theory."<br/>
        (Kurt Lewin)
      </p>
      <p class="text-white text-lg mt-6 font-light">
        Continuous learning is our core value. We welcome you to our knowledge journey.
      </p>
    </div>
  </div>
</section>


<!-- INTRO TEXT -->
<section class="bg-white py-16">
  <div class="container mx-auto px-6 max-w-4xl">
    <p class="text-cyan-600 font-semibold text-sm uppercase tracking-wider mb-4">
      Publications
    </p>
    <h1 class="text-gray-900 mb-6">
      Sharpen your AXE
    </h1>
    <p class="text-lg text-gray-600 leading-relaxed">
      Explore here some of our original work and interviews. Also, we periodically upload here inspirational books and videos. Please do let us know what you think, share with us your inspirational materials.
    </p>
  </div>
</section>

<!-- MAIN CONTENT -->
<section class="bg-gray-50 py-16">
  <div class="container mx-auto px-6 max-w-4xl">

    <!-- Categories Filter -->
    <div class="mb-12 border-b border-gray-200">
      <nav class="flex gap-6 overflow-x-auto pb-4">
        {categories.map(category => (
          <button 
            class="category-btn whitespace-nowrap px-4 py-2 text-gray-600 hover:text-cyan-600 transition-colors border-b-2 border-transparent hover:border-cyan-600"
            data-category={category}
          >
            {category}
          </button>
        ))}
      </nav>
    </div>

    <!-- Publications Grid -->
    <div class="grid grid-cols-1 gap-6" id="publications-grid">
      {publications.map(pub => (
        <article 
          class="publication-card bg-white border border-gray-200 rounded-lg p-8 hover:shadow-lg transition-shadow text-center"
          data-category={pub.category}
        >
          <div class="inline-block px-3 py-1 bg-cyan-100 text-cyan-700 text-xs font-semibold rounded-full mb-4">
            {pub.category}
          </div>
          
          <h3 class="text-gray-900 mb-3">
            {pub.title}
          </h3>
          
          <p class="text-gray-600 leading-relaxed mb-6 max-w-3xl mx-auto">
            {pub.excerpt}
          </p>
          
          <a 
            href={pub.link}
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center text-cyan-600 font-semibold hover:text-cyan-700 transition-colors"
          >
            לקריאת המאמר
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
            </svg>
          </a>
        </article>
      ))}
    </div>

  </div>
</section>


<Footer />

<script>
  const categoryBtns = document.querySelectorAll('.category-btn');
  const publicationCards = document.querySelectorAll('.publication-card');

  categoryBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      const category = btn.getAttribute('data-category');
      
      categoryBtns.forEach(b => {
        b.classList.remove('text-cyan-600', 'border-cyan-600');
        b.classList.add('text-gray-600', 'border-transparent');
      });
      btn.classList.remove('text-gray-600', 'border-transparent');
      btn.classList.add('text-cyan-600', 'border-cyan-600');

      publicationCards.forEach(card => {
        const cardCategory = card.getAttribute('data-category');
        if (category === 'All' || cardCategory === category) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
    });
  });

  categoryBtns[0].classList.add('text-cyan-600', 'border-cyan-600');
</script>

</Layout>