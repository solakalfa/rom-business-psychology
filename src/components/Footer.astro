---
// src/components/Footer.astro
---

<section
  class="relative py-16 bg-[#0f172a] overflow-hidden w-full border-t border-white/5 font-['Poppins']"
>
  <div class="absolute inset-0 opacity-[0.02] pointer-events-none">
    <svg class="w-full h-full" xmlns="http://www.w3.org/2000/svg">
      <pattern
        id="grid-footer"
        width="40"
        height="40"
        patternUnits="userSpaceOnUse"
      >
        <path
          d="M 40 0 L 0 0 0 40"
          fill="none"
          stroke="white"
          stroke-width="0.5"></path>
      </pattern>
      <rect width="100%" height="100%" fill="url(#grid-footer)"></rect>
    </svg>
  </div>

  <div class="container mx-auto px-6 max-w-[896px] relative z-10">
    <div class="flex flex-col md:flex-row items-start justify-between gap-12">
      <div class="max-w-md">
        <h2
          class="text-3xl md:text-4xl font-bold text-white tracking-tight leading-tight opacity-95"
        >
          Can we be of any <br />
          <span class="text-cyan-400">assistance?</span>
        </h2>
        <p class="text-slate-400 mt-4 font-light leading-relaxed text-[15px]">
          Discuss your organizational challenges with our senior consultants.
          We'd love to hear from you.
        </p>
      </div>

      <div class="w-full md:w-[350px]">
        <form id="contact-form" class="space-y-4">
          <input
            type="hidden"
            name="access_key"
            value="a4820d70-9146-4472-8991-86089ba18989"
          />
          <input
            type="email"
            name="email"
            required
            class="w-full px-5 py-3.5 bg-white/5 border border-white/10 rounded-xl focus:ring-1 focus:ring-cyan-500/50 outline-none text-white placeholder:text-slate-500 transition-all text-sm font-['Poppins']"
            placeholder="Email address"
          />
          <textarea
            name="message"
            rows="2"
            required
            class="w-full px-5 py-3.5 bg-white/5 border border-white/10 rounded-xl focus:ring-1 focus:ring-cyan-500/50 outline-none resize-none text-white placeholder:text-slate-500 transition-all text-sm font-['Poppins']"
            placeholder="Message"></textarea>
          <button
            type="submit"
            id="submit-btn"
            class="w-full py-3.5 bg-white text-[#0f172a] font-bold rounded-xl hover:bg-cyan-400 transition-all text-xs uppercase tracking-widest shadow-lg active:scale-95"
          >
            Send Inquiry
          </button>
        </form>
        <div id="success-message" class="hidden text-center py-4">
          <p class="text-cyan-400 font-bold text-sm">
            Message sent successfully.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<footer class="bg-[#0f172a] text-white pt-12 pb-12 font-['Poppins']">
  <div class="container mx-auto px-6 max-w-[896px]">
    <div class="grid grid-cols-2 md:grid-cols-4 gap-12 mb-16">
      <div class="space-y-5">
        <h3
          class="text-[11px] font-bold uppercase text-white/40 tracking-normal"
        >
          Teams
        </h3>
        <ul class="space-y-3 text-[14px] text-slate-400 font-light">
          <li>
            <a
              href="/team-building-and-development"
              class="hover:text-cyan-400 transition-colors"
              >Building & Development</a
            >
          </li>
          <li>
            <a
              href="/management-skills"
              class="hover:text-cyan-400 transition-colors">Management Skills</a
            >
          </li>
          <li>
            <a
              href="/mentoring-task-force"
              class="hover:text-cyan-400 transition-colors"
              >Mentoring Task Force</a
            >
          </li>
        </ul>
      </div>

      <div class="space-y-5">
        <h3
          class="text-[11px] font-bold uppercase text-white/40 tracking-normal"
        >
          People
        </h3>
        <ul class="space-y-3 text-[14px] text-slate-400 font-light">
          <li>
            <a
              href="/executive-coaching"
              class="hover:text-cyan-400 transition-colors"
              >Executive Coaching</a
            >
          </li>
          <li>
            <a
              href="/career-development"
              class="hover:text-cyan-400 transition-colors"
              >Career Development</a
            >
          </li>
          <li>
            <a
              href="/emotional-therapy"
              class="hover:text-cyan-400 transition-colors">Emotional Therapy</a
            >
          </li>
        </ul>
      </div>

      <div class="space-y-5">
        <h3
          class="text-[11px] font-bold uppercase text-white/40 tracking-normal"
        >
          Company
        </h3>
        <ul class="space-y-3 text-[14px] text-slate-400 font-light">
          <li>
            <a href="/about" class="hover:text-cyan-400 transition-colors"
              >Value Proposition</a
            >
          </li>
          <li>
            <a href="/team" class="hover:text-cyan-400 transition-colors"
              >Meet the Family</a
            >
          </li>
          <li>
            <a href="/clients" class="hover:text-cyan-400 transition-colors"
              >Our Clients</a
            >
          </li>
          <li>
            <a
              href="/publications"
              class="hover:text-cyan-400 transition-colors">Publications</a
            >
          </li>
        </ul>
      </div>

      <div class="space-y-5">
        <h3
          class="text-[11px] font-bold uppercase text-white/40 tracking-normal"
        >
          Connect
        </h3>
        <ul class="space-y-3 text-[14px] text-slate-400 font-light">
          <li>
            <a
              href="mailto:info@rompsyc.com"
              class="text-cyan-400 hover:underline">info@rompsyc.com</a
            >
          </li>
          <li>
            <a
              href="tel:+972528152233"
              class="hover:text-white transition-colors">+972 52-815-2233</a
            >
          </li>
          <li>
            <a
              href="https://linkedin.com"
              target="_blank"
              class="hover:text-white transition-colors font-medium">LinkedIn</a
            >
          </li>
        </ul>
      </div>
    </div>

    <div
      class="pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-baseline gap-6"
    >
      <div class="flex items-baseline gap-3">
        <span class="text-sm font-bold tracking-tighter text-white"
          >ROM<span class="text-cyan-400">.</span></span
        >
        <span
          class="text-[10px] text-slate-600 font-bold uppercase tracking-wider"
          >Scaling Human Potential in a Hectic Reality</span
        >
      </div>

      <div
        class="flex items-baseline gap-8 text-[11px] font-medium text-slate-500"
      >
        <a href="/privacy" class="hover:text-white transition-colors">Privacy</a
        >
        <span class="opacity-20">|</span>
        <p class="cursor-default opacity-60">Â© 2025 All rights reserved</p>
      </div>
    </div>
  </div>
</footer>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.getElementById("contact-form") as HTMLFormElement;
    const submitBtn = document.getElementById(
      "submit-btn"
    ) as HTMLButtonElement;
    const successMessage = document.getElementById("success-message");

    form?.addEventListener("submit", async (e) => {
      e.preventDefault();
      submitBtn.disabled = true;
      const originalText = submitBtn.innerText;
      submitBtn.innerText = "SENDING...";

      try {
        const response = await fetch("https://api.web3forms.com/submit", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Accept: "application/json",
          },
          body: JSON.stringify(Object.fromEntries(new FormData(form))),
        });
        if (response.ok) {
          form.classList.add("hidden");
          successMessage?.classList.remove("hidden");
        }
      } catch (err) {
        submitBtn.innerText = "ERROR";
        setTimeout(() => {
          submitBtn.innerText = originalText;
          submitBtn.disabled = false;
        }, 2000);
      }
    });
  });
</script>
